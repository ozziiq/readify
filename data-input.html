<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Readify - Atur Preferensi Anda</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6a0dad;
            --primary-dark: #4b0082;
            --accent: #00f5ff;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --light-purple: #f3e5ff;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            color: var(--dark);
            line-height: 1.6;
            background-color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header Styles */
        header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 15px 0;
        }
        
        .header-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
        }
        
        .logo img {
            height: 40px;
            margin-right: 10px;
        }
        
        /* Main Content */
        main {
            flex: 1;
            display: flex;
            align-items: center;
            padding: 40px 0;
        }
        
        .onboarding-container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.05);
            padding: 40px;
        }
        
        .onboarding-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .onboarding-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--primary-dark);
            margin-bottom: 10px;
        }
        
        .onboarding-subtitle {
            color: var(--gray);
            font-size: 16px;
        }
        
        /* Progress Bar */
        .progress-container {
            width: 100%;
            margin-bottom: 40px;
        }
        
        .progress-steps {
            display: flex;
            justify-content: space-between;
            position: relative;
            margin-bottom: 20px;
        }
        
        .progress-steps::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 4px;
            background-color: #e9ecef;
            transform: translateY(-50%);
            z-index: 1;
        }
        
        .progress-bar {
            position: absolute;
            top: 50%;
            left: 0;
            height: 4px;
            background-color: var(--primary);
            transform: translateY(-50%);
            z-index: 2;
            transition: width 0.3s ease;
        }
        
        .step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: var(--gray);
            position: relative;
            z-index: 3;
            transition: all 0.3s ease;
        }
        
        .step.active {
            background-color: var(--primary);
            color: white;
        }
        
        .step.completed {
            background-color: var(--accent);
            color: var(--dark);
        }
        
        .step-label {
            position: absolute;
            top: calc(100% + 10px);
            left: 50%;
            transform: translateX(-50%);
            font-size: 14px;
            color: var(--gray);
            white-space: nowrap;
        }
        
        .step.active .step-label,
        .step.completed .step-label {
            color: var(--primary-dark);
            font-weight: 500;
        }
        
        /* Form Steps */
        .form-step {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .form-step.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .step-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--primary-dark);
            margin-bottom: 20px;
            text-align: center;
        }
        
        /* Step 1 - Genre Selection */
        .genre-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .genre-card {
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background-color: white;
        }
        
        .genre-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .genre-card.selected {
            border-color: var(--primary);
            background-color: var(--light-purple);
            box-shadow: 0 5px 15px rgba(106, 13, 173, 0.1);
        }
        
        .genre-icon {
            font-size: 24px;
            margin-bottom: 10px;
            display: block;
        }
        
        .genre-name {
            font-weight: 500;
            font-size: 14px;
        }
        
        .genre-limit {
            text-align: center;
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 30px;
        }
        
        /* Step 2 - Theme Selection */
        .theme-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .theme-card {
            border: 2px solid #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .theme-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .theme-card.selected {
            border-color: var(--primary);
            box-shadow: 0 5px 15px rgba(106, 13, 173, 0.1);
        }
        
        .theme-preview {
            height: 100px;
            background-size: cover;
            background-position: center;
        }
        
        .theme-info {
            padding: 12px;
            text-align: center;
            background-color: white;
        }
        
        .theme-name {
            font-weight: 500;
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .theme-mood {
            font-size: 12px;
            color: var(--gray);
        }
        
        .color-options {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }
        
        .color-option {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .color-option:hover {
            transform: scale(1.1);
        }
        
        .color-option.selected {
            transform: scale(1.1);
            border-color: var(--dark);
        }
        
        /* Step 3 - Voice Selection */
        .voice-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .voice-card {
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background-color: white;
        }
        
        .voice-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .voice-card.selected {
            border-color: var(--primary);
            background-color: var(--light-purple);
            box-shadow: 0 5px 15px rgba(106, 13, 173, 0.1);
        }
        
        .voice-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 24px;
        }
        
        .voice-name {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .voice-type {
            font-size: 14px;
            color: var(--gray);
        }
        
        /* Navigation Buttons */
        .form-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .btn {
            padding: 12px 25px;
            border-radius: 30px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            border: none;
            font-size: 16px;
        }
        
        .btn-outline {
            border: 2px solid var(--primary);
            color: var(--primary);
            background: transparent;
        }
        
        .btn-outline:hover {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .btn-accent {
            background-color: var(--accent);
            color: var(--dark);
            font-weight: 600;
        }
        
        .btn-accent:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 245, 255, 0.3);
        }
        
        .btn-hidden {
            visibility: hidden;
        }
        
        /* Responsive Styles */
        @media (max-width: 768px) {
            .onboarding-container {
                padding: 30px 20px;
            }
            
            .onboarding-title {
                font-size: 24px;
            }
            
            .step {
                width: 30px;
                height: 30px;
                font-size: 14px;
            }
            
            .step-label {
                font-size: 12px;
                top: calc(100% + 5px);
            }
            
            .genre-grid {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            }
            
            .theme-options {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            .voice-options {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 480px) {
            .onboarding-container {
                padding: 20px 15px;
            }
            
            .onboarding-header {
                margin-bottom: 30px;
            }
            
            .progress-steps {
                margin-bottom: 30px;
            }
            
            .step-label {
                display: none;
            }
            
            .genre-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .theme-options {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .form-navigation {
                flex-direction: column-reverse;
                gap: 10px;
            }
            
            .btn {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <a href="#" class="logo">
                <img src="assets/images/logo-readify.png" alt="Simplify Logo">
                Readify
            </a>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <div class="container">
            <div class="onboarding-container">
                <div class="onboarding-header">
                    <h1 class="onboarding-title">Atur Preferensi Anda</h1>
                    <p class="onboarding-subtitle">Bantu kami memahami selera Anda untuk pengalaman membaca yang lebih personal</p>
                </div>
                
                <!-- Progress Bar -->
                <div class="progress-container">
                    <div class="progress-steps">
                        <div class="progress-bar" id="progressBar" style="width: 0%;"></div>
                        <div class="step active" id="step1">
                            <span>1</span>
                            <span class="step-label">Genre Favorit</span>
                        </div>
                        <div class="step" id="step2">
                            <span>2</span>
                            <span class="step-label">Tema & Warna</span>
                        </div>
                        <div class="step" id="step3">
                            <span>3</span>
                            <span class="step-label">Suara Audiobook</span>
                        </div>
                    </div>
                </div>
                
                <!-- Form Steps -->
                <form id="preferenceForm">
                    <!-- Step 1: Genre Selection -->
                    <div class="form-step active" id="formStep1">
                        <h2 class="step-title">Pilih Genre Favorit Anda</h2>
                        <p class="genre-limit">Pilih 1-3 genre yang paling Anda sukai</p>
                        
                        <div class="genre-grid">
                            <div class="genre-card" data-genre="romance">
                                <span class="genre-icon">‚ù§Ô∏è</span>
                                <span class="genre-name">Romance</span>
                            </div>
                            <div class="genre-card" data-genre="horror">
                                <span class="genre-icon">üëª</span>
                                <span class="genre-name">Horror</span>
                            </div>
                            <div class="genre-card" data-genre="sci-fi">
                                <span class="genre-icon">üöÄ</span>
                                <span class="genre-name">Sci-Fi</span>
                            </div>
                            <div class="genre-card" data-genre="fantasy">
                                <span class="genre-icon">üßô</span>
                                <span class="genre-name">Fantasy</span>
                            </div>
                            <div class="genre-card" data-genre="mystery">
                                <span class="genre-icon">üïµÔ∏è</span>
                                <span class="genre-name">Mystery</span>
                            </div>
                            <div class="genre-card" data-genre="thriller">
                                <span class="genre-icon">üî™</span>
                                <span class="genre-name">Thriller</span>
                            </div>
                            <div class="genre-card" data-genre="historical">
                                <span class="genre-icon">üè∞</span>
                                <span class="genre-name">Historical</span>
                            </div>
                            <div class="genre-card" data-genre="biography">
                                <span class="genre-icon">üìú</span>
                                <span class="genre-name">Biography</span>
                            </div>
                        </div>
                        
                        <input type="hidden" id="selectedGenres" name="selectedGenres">
                        
                        <div class="form-navigation">
                            <button type="button" class="btn btn-outline btn-hidden">Kembali</button>
                            <button type="button" class="btn btn-primary" id="nextStep1">Lanjut</button>
                        </div>
                    </div>
                    
                    <!-- Step 2: Theme Selection -->
                    <div class="form-step" id="formStep2">
                        <h2 class="step-title">Pilih Tema & Warna</h2>
                        <p style="text-align: center; color: var(--gray); margin-bottom: 30px; font-size: 14px;">
                            Sesuaikan tampilan aplikasi dengan preferensi Anda
                        </p>
                        
                        <div class="theme-options">
                            <div class="theme-card selected" data-theme="serene">
                                <div class="theme-preview" style="background-color: #e3f2fd;"></div>
                                <div class="theme-info">
                                    <div class="theme-name">Serene</div>
                                    <div class="theme-mood">Tenang & Nyaman</div>
                                    <div class="color-options">
                                        <div class="color-option selected" style="background-color: #6a0dad;" data-color="purple"></div>
                                        <div class="color-option" style="background-color: #2196f3;" data-color="blue"></div>
                                        <div class="color-option" style="background-color: #4caf50;" data-color="green"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="theme-card" data-theme="vibrant">
                                <div class="theme-preview" style="background-color: #ffebee;"></div>
                                <div class="theme-info">
                                    <div class="theme-name">Vibrant</div>
                                    <div class="theme-mood">Energik & Bersemangat</div>
                                    <div class="color-options">
                                        <div class="color-option" style="background-color: #f44336;" data-color="red"></div>
                                        <div class="color-option" style="background-color: #ff9800;" data-color="orange"></div>
                                        <div class="color-option" style="background-color: #ffeb3b;" data-color="yellow"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="theme-card" data-theme="dark">
                                <div class="theme-preview" style="background-color: #424242;"></div>
                                <div class="theme-info">
                                    <div class="theme-name">Dark</div>
                                    <div class="theme-mood">Intim & Fokus</div>
                                    <div class="color-options">
                                        <div class="color-option" style="background-color: #212121;" data-color="dark"></div>
                                        <div class="color-option" style="background-color: #9c27b0;" data-color="violet"></div>
                                        <div class="color-option" style="background-color: #607d8b;" data-color="gray"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="theme-card" data-theme="nature">
                                <div class="theme-preview" style="background-color: #e8f5e9;"></div>
                                <div class="theme-info">
                                    <div class="theme-name">Nature</div>
                                    <div class="theme-mood">Segar & Alami</div>
                                    <div class="color-options">
                                        <div class="color-option" style="background-color: #2e7d32;" data-color="dark-green"></div>
                                        <div class="color-option" style="background-color: #00bcd4;" data-color="teal"></div>
                                        <div class="color-option" style="background-color: #795548;" data-color="brown"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <input type="hidden" id="selectedTheme" name="selectedTheme" value="serene">
                        <input type="hidden" id="selectedColor" name="selectedColor" value="purple">
                        
                        <div class="form-navigation">
                            <button type="button" class="btn btn-outline" id="prevStep2">Kembali</button>
                            <button type="button" class="btn btn-primary" id="nextStep2">Lanjut</button>
                        </div>
                    </div>
                    
                    <!-- Step 3: Voice Selection -->
                    <div class="form-step" id="formStep3">
                        <h2 class="step-title">Pilih Suara Audiobook</h2>
                        <p style="text-align: center; color: var(--gray); margin-bottom: 30px; font-size: 14px;">
                            Pilih jenis suara yang nyaman untuk Anda dengarkan
                        </p>
                        
                        <div class="voice-options">
                            <div class="voice-card selected" data-voice="male">
                                <div class="voice-icon">üéôÔ∏è</div>
                                <div class="voice-name">Suara Pria</div>
                                <div class="voice-type">Dalam dan Berwibawa</div>
                            </div>
                            <div class="voice-card" data-voice="female">
                                <div class="voice-icon">üé§</div>
                                <div class="voice-name">Suara Wanita</div>
                                <div class="voice-type">Lembut dan Jelas</div>
                            </div>
                            <div class="voice-card" data-voice="neutral">
                                <div class="voice-icon">üéß</div>
                                <div class="voice-name">Suara Netral</div>
                                <div class="voice-type">Natural dan Fleksibel</div>
                            </div>
                        </div>
                        
                        <input type="hidden" id="selectedVoice" name="selectedVoice" value="male">
                        
                        <div class="form-navigation">
                            <button type="button" class="btn btn-outline" id="prevStep3">Kembali</button>
                            <button type="submit" class="btn btn-accent">Simpan & Lanjutkan</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <!-- JavaScript -->
    <script>
        // DOM Elements
        const formSteps = document.querySelectorAll('.form-step');
        const steps = document.querySelectorAll('.step');
        const progressBar = document.getElementById('progressBar');
        const nextStep1 = document.getElementById('nextStep1');
        const nextStep2 = document.getElementById('nextStep2');
        const prevStep2 = document.getElementById('prevStep2');
        const prevStep3 = document.getElementById('prevStep3');
        const genreCards = document.querySelectorAll('.genre-card');
        const selectedGenresInput = document.getElementById('selectedGenres');
        const themeCards = document.querySelectorAll('.theme-card');
        const selectedThemeInput = document.getElementById('selectedTheme');
        const colorOptions = document.querySelectorAll('.color-option');
        const selectedColorInput = document.getElementById('selectedColor');
        const voiceCards = document.querySelectorAll('.voice-card');
        const selectedVoiceInput = document.getElementById('selectedVoice');
        
        // Selected genres array
        let selectedGenres = [];
        const maxGenres = 3;
        
        // Initialize form steps
        let currentStep = 1;
        
        // Genre selection
        genreCards.forEach(card => {
            card.addEventListener('click', () => {
                const genre = card.getAttribute('data-genre');
                
                if (card.classList.contains('selected')) {
                    // Deselect genre
                    card.classList.remove('selected');
                    selectedGenres = selectedGenres.filter(g => g !== genre);
                } else {
                    // Check if maximum genres reached
                    if (selectedGenres.length >= maxGenres) {
                        alert(`Anda hanya dapat memilih maksimal ${maxGenres} genre`);
                        return;
                    }
                    
                    // Select genre
                    card.classList.add('selected');
                    selectedGenres.push(genre);
                }
                
                // Update hidden input
                selectedGenresInput.value = selectedGenres.join(',');
            });
        });
        
        // Theme selection
        themeCards.forEach(card => {
            card.addEventListener('click', () => {
                themeCards.forEach(c => c.classList.remove('selected'));
                card.classList.add('selected');
                selectedThemeInput.value = card.getAttribute('data-theme');
            });
        });
        
        // Color selection
        colorOptions.forEach(option => {
            option.addEventListener('click', function() {
                // Remove selected class from all options in this group
                const parentCard = this.closest('.theme-card');
                parentCard.querySelectorAll('.color-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                // Add selected class to clicked option
                this.classList.add('selected');
                selectedColorInput.value = this.getAttribute('data-color');
            });
        });
        
        // Voice selection
        voiceCards.forEach(card => {
            card.addEventListener('click', () => {
                voiceCards.forEach(c => c.classList.remove('selected'));
                card.classList.add('selected');
                selectedVoiceInput.value = card.getAttribute('data-voice');
            });
        });
        
        // Next Step 1
        nextStep1.addEventListener('click', () => {
            if (selectedGenres.length === 0) {
                alert('Silakan pilih minimal 1 genre favorit');
                return;
            }
            
            goToStep(2);
        });
        
        // Next Step 2
        nextStep2.addEventListener('click', () => {
            goToStep(3);
        });
        
        // Previous Step 2
        prevStep2.addEventListener('click', () => {
            goToStep(1);
        });
        
        // Previous Step 3
        prevStep3.addEventListener('click', () => {
            goToStep(2);
        });
        
        document.getElementById('preferenceForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // In a real app, you would send the form data to the server here
            console.log('Selected Genres:', selectedGenresInput.value);
            console.log('Selected Theme:', selectedThemeInput.value);
            console.log('Selected Color:', selectedColorInput.value);
            console.log('Selected Voice:', selectedVoiceInput.value);
            
            // Simulate form submission
            alert('Preferensi Anda telah disimpan! Mengarahkan ke halaman utama... (Website Under Construction! preferensi anda akan disesuaikan kedepannya! Mohon maaf atas ketidaknyamanannya)');
            window.location.href = 'home.html';
        });
        
        // Function to navigate between steps
        function goToStep(step) {
            // Hide all form steps
            formSteps.forEach(formStep => {
                formStep.classList.remove('active');
            });
            
            // Update steps styling
            steps.forEach((stepElement, index) => {
                if (index < step - 1) {
                    stepElement.classList.add('completed');
                    stepElement.classList.remove('active');
                } else if (index === step - 1) {
                    stepElement.classList.add('active');
                    stepElement.classList.remove('completed');
                } else {
                    stepElement.classList.remove('active', 'completed');
                }
            });
            
            // Update progress bar
            const progressPercentage = ((step - 1) / (steps.length - 1)) * 100;
            progressBar.style.width = `${progressPercentage}%`;
            
            // Show current form step
            document.getElementById(`formStep${step}`).classList.add('active');
            
            // Update current step
            currentStep = step;
           
            document.getElementById('preferenceForm').addEventListener('submit', function(e) {
            e.preventDefault();

            // Simpan preferensi ke localStorage
            localStorage.setItem('userTheme', selectedThemeInput.value);
            localStorage.setItem('userColor', selectedColorInput.value);
            localStorage.setItem('userName', 'Farhan'); // atau ambil dari input nama jika ada
            localStorage.setItem('userMood', 'focused'); // sesuaikan jika kamu punya pilihan mood

            // Debug: cek data tersimpan
            console.log("Tersimpan:", {
                theme: selectedThemeInput.value,
                color: selectedColorInput.value
            });
});

        }
    </script>
</body>
</html>